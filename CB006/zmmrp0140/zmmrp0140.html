<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=GBK" />
<title>ZMMRP0140</title>
<style type="text/css">
.code{ font-family:"Courier New", Courier, monospace; color:#000; font-size:14px; background-color:#F2F4F7 }
  .codeComment {font-family:"Courier New", Courier, monospace; color:#0000F0; font-size:14px; background-color:#F2F4F7 }
  .normalBold{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; font-weight:800 }
  .normalBoldLarge{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
</style>
<style type="text/css">
  .normal{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px }
  .footer{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; text-align: center }
  h2{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
  h3{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:14px; font-weight:800 }
  .outerTable{
   background-color:#E0E7ED;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-right-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
  .innerTable{
   background-color:#F2F4F7;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-bottom-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
</style>
</head>
<body>
<table class="outerTable">
  <tr class="normalBoldLarge">
     <td><h2>Code listing for: ZMMRP0140</h2>
<h3> Description: 根据物料凭证生成调拨单</h3></td>
   </tr>
  <tr>
     <td>
     <table class="innerTable">
       <tr>
          <td>
   <div class="codeComment">
*-------------------------------------------------------*<br />
*&nbsp;开发人：王岩&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;菜百关键用户：崔辰&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;德勤：郭楠楠<br />
*第一次修改：&nbsp;郭楠楠&nbsp;&nbsp;&nbsp;将按分配号查询和采购单号查询的屏幕查询条件的部门、库存地点、时间取消&nbsp;2015.7.28<br />
*第二次修改：&nbsp;郭楠楠&nbsp;&nbsp;&nbsp;将按采购单号查询的屏幕查询条件中采购单号更改为必须项<br />
*第三次修改：&nbsp;郭楠楠&nbsp;&nbsp;&nbsp;将按采购单号查询的屏幕查询条件完全放弃，更改为按物料凭证查询，整体界面需要调整。单据类型限制完全放开。<br />
*第四次修改：&nbsp;郭楠楠&nbsp;&nbsp;&nbsp;商品过账时，创建的ZSTO单据类型中的税码更改必输项。<br />
*第五次修改：&nbsp;崔辰&nbsp;&nbsp;&nbsp;&nbsp;将按物料凭证查询的凭证日期查询条件取消。<br />
*第六次修改：&nbsp;郭楠楠&nbsp;&nbsp;&nbsp;程序主界面增加凭证日期和过账日期输入框，过账时过账时间已输入框的时间为准。&nbsp;&nbsp;&nbsp;&nbsp;2015.8.30<br />
*第七次修改：&nbsp;崔辰&nbsp;&nbsp;&nbsp;&nbsp;将按分配号和物料凭证查询的ALV中增加总克重、和件数列。&nbsp;&nbsp;2015.9.1<br />
*第八次修改：&nbsp;郭楠楠&nbsp;&nbsp;税码由固定值改为调用函数获取，并放开修改。&nbsp;&nbsp;&nbsp;2015.9.7<br />
<br />
<br />
<br />
   </div>
   <div class="code">
REPORT ZMMRP0140.<br />
<br />
   </div>
   <div class="codeComment">
*变量声明<br />
   </div>
   <div class="code">
include <a href ="zmmrp0140_top.html">ZMMRP0140_TOP</a>.<br />
<br />
   </div>
   <div class="codeComment">
*初始化屏幕<br />
   </div>
   <div class="code">
include <a href ="zmmrp0140_screens.html">ZMMRP0140_SCREENS</a>.<br />
<br />
   </div>
   <div class="codeComment">
*9001屏幕控制<br />
   </div>
   <div class="code">
include <a href ="zmmrp0140_9001i01.html">zmmrp0140_9001i01</a>.<br />
<br />
   </div>
   <div class="codeComment">
*通过条件，取批次数<br />
   </div>
   <div class="code">
include <a href ="zmmrp0140_getdata.html">ZMMRP0140_GETDATA</a>.<br />
<br />
   </div>
   <div class="codeComment">
*创建STO、DN、发货过账<br />
   </div>
   <div class="code">
include <a href ="zmmrp0140_create.html">ZMMRP0140_CREATE</a>.<br />
<br />
   </div>
   <div class="codeComment">
*查询出来的结果显示ALV.<br />
   </div>
   <div class="code">
include <a href ="zmmrp0140_show_alv.html">ZMMRP0140_SHOW_ALV</a>.<br />
<br />
   </div>
   <div class="codeComment">
*GUI&nbsp;Texts<br />
*----------------------------------------------------------<br />
*&nbsp;TITLEBAR_9001&nbsp;--&gt;&nbsp;采购收货转调拨<br />
<br />
*Text&nbsp;elements<br />
*----------------------------------------------------------<br />
*&nbsp;001&nbsp;配货输入<br />
*&nbsp;S01&nbsp;按照物料查询结果生成单据<br />
*&nbsp;S03&nbsp;按照分配号查询结果生成单据<br />
*&nbsp;S04&nbsp;辅助查询：只查询要货单<br />
<br />
<br />
*Selection&nbsp;texts<br />
*----------------------------------------------------------<br />
*&nbsp;S_BAR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;扫描分配号<br />
*&nbsp;S_BUDAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;采购收货日期<br />
*&nbsp;S_CGSHDD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;采购收货门店<br />
*&nbsp;S_CJRQ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建日期<br />
*&nbsp;S_LGORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;库存地点<br />
*&nbsp;S_LGORT1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;库存地点<br />
*&nbsp;S_MATNRY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;物料编码<br />
*&nbsp;S_MBLNR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;物料凭证编号<br />
*&nbsp;S_WERKS1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;门店<br />
*&nbsp;S_YHBM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;要货部门<br />
*&nbsp;S_YHDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;要货单号<br />
<br />
<br />
*Messages<br />
*----------------------------------------------------------<br />
*<br />
*&nbsp;Message&nbsp;class:&nbsp;00<br />
*001&nbsp;&nbsp;&nbsp;&1&2&3&4&5&6&7&8<br />
*<br />
*&nbsp;Message&nbsp;class:&nbsp;Hard&nbsp;coded<br />
*&nbsp;&nbsp;&nbsp;请先输入必输项，再进行查询！<br />
*<br />
*&nbsp;Message&nbsp;class:&nbsp;ZCB<br />
*000&nbsp;&nbsp;&nbsp;&1&2&3&4<br />
*007&nbsp;&nbsp;&nbsp;该联营商品由&1公司采购，不能多级调拨，请先退回&2公司，再由该公司发货<br />
*030&nbsp;&nbsp;&nbsp;收货地点在8001-8099之间时,收货专柜为必输项<br />
*031&nbsp;&nbsp;&nbsp;收货专柜&nbsp;&1&nbsp;无效<br />
            </div>
          </td>
        </tr>
      </table>
      </td>
      </tr>
   <tr>
<td class="footer">www.bjcaibai.com.cn201609</td>
   </tr>
</table>
</body>
</html>
