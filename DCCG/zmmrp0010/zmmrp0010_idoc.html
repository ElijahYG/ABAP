<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=GBK" />
<title>ZMMRP0010_IDOC</title>
<style type="text/css">
.code{ font-family:"Courier New", Courier, monospace; color:#000; font-size:14px; background-color:#F2F4F7 }
  .codeComment {font-family:"Courier New", Courier, monospace; color:#0000F0; font-size:14px; background-color:#F2F4F7 }
  .normalBold{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; font-weight:800 }
  .normalBoldLarge{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
</style>
<style type="text/css">
  .normal{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px }
  .footer{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:12px; text-align: center }
  h2{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:16px; font-weight:800 }
  h3{ font-family:Arial, Helvetica, sans-serif; color:#000; font-size:14px; font-weight:800 }
  .outerTable{
   background-color:#E0E7ED;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-right-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
  .innerTable{
   background-color:#F2F4F7;
   width:100%;
   border-top-width: thin;
   border-right-width: thin;
   border-bottom-width: thin;
   border-left-width: thin;
   border-top-style: solid;
   border-right-style: solid;
   border-bottom-style: solid;
   border-left-style: solid;
  }
</style>
</head>
<body>
<table class="outerTable">
  <tr class="normalBoldLarge">
     <td><h2>Code listing for: ZMMRP0010_IDOC</h2>
<h3> Description: Include ZMMRP0010_IDOC</h3></td>
   </tr>
  <tr>
     <td>
     <table class="innerTable">
       <tr>
          <td>
   <div class="codeComment">
*------------------------------------------------<br />
*<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM SEND_IDOC_FOR_MAT.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;表头段<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;FULL_E1BPE1MATHEAD.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;AUSP<br />
*&nbsp;&nbsp;PERFORM&nbsp;FULL_E1BPE1AUSPRT.<br />
<br />
*&nbsp;MARA<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;FULL_E1BPE1MARART.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;MAW1<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;FULL_E1BPE1MAW1RT.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;MAKT<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;FULL_E1BPE1MAKTRT.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;MARC<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;FULL_E1BPE1MARCRT.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;MBEW<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;FULL_E1BPE1MBEWRT.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;MVKE<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;FULL_E1BPE1MVKERT.<br />
<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;内向处理IDOC<br />
   </div>
   <div class="code">
&nbsp;&nbsp;PERFORM&nbsp;INBOUND_PROCESS_IDOC.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*------------------------------------------------<br />
*&nbsp;控制信息<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM FULL_E1BPE1MATHEAD.<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MATHEAD.<br />
<br />
<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-MATL_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-MATL_TYPE&nbsp;.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-MATL_GROUP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-MATL_GROUP.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-MATL_CAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-MATL_CAT&nbsp;.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-BASIC_VIEW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-LIST_VIEW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-SALES_VIEW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-LOGDC_VIEW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MATHEAD-LOGST_VIEW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;'X'.<br />
<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MATHEAD'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MATHEAD.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
ENDFORM.<br />
   </div>
   <div class="codeComment">
*------------------------------------------------<br />
*&nbsp;特性值分配&nbsp;AUSP<br />
*------------------------------------------------<br />
*FORM&nbsp;FULL_E1BPE1AUSPRT.<br />
*&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1AUSPRT.<br />
*&nbsp;&nbsp;LS_E1BPE1AUSPRT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
*&nbsp;&nbsp;LS_E1BPE1AUSPRT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
*&nbsp;&nbsp;LS_E1BPE1AUSPRT-CHAR_NAME&nbsp;&nbsp;&nbsp;=&nbsp;'ZDUMMY'.<br />
*&nbsp;&nbsp;LS_E1BPE1AUSPRT-CHAR_VALUE&nbsp;&nbsp;=&nbsp;'1'.<br />
*&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1AUSPRT'.<br />
*&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1AUSPRT.<br />
*&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
*<br />
*&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1AUSPRTX.<br />
*&nbsp;&nbsp;LS_E1BPE1AUSPRTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
*&nbsp;&nbsp;LS_E1BPE1AUSPRTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
*&nbsp;&nbsp;LS_E1BPE1AUSPRTX-CHAR_NAME&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
*&nbsp;&nbsp;LS_E1BPE1AUSPRTX-CHAR_VALUE&nbsp;&nbsp;=&nbsp;'X'.<br />
*&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1AUSPRTX'.<br />
*&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1AUSPRTX.<br />
*&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
*<br />
*ENDFORM.<br />
*------------------------------------------------<br />
*&nbsp;集团级别的商品数据&nbsp;MARA<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM FULL_E1BPE1MARART.<br />
<br />
&nbsp;&nbsp;CLEAR:LS_E1BPE1MARART,&nbsp;LS_E1BPE1MARARTX.<br />
<br />
&nbsp;&nbsp;LS_E1BPE1MARART-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MARART-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
<br />
&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'CONVERSION_EXIT_CUNIT_INPUT'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"基本单位<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INPUT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-BASE_UOM<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LANGUAGE&nbsp;=&nbsp;SY-LANGU<br />
&nbsp;&nbsp;&nbsp;&nbsp;IMPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OUTPUT&nbsp;&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARART-BASE_UOM.<br />
<br />
&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'CONVERSION_EXIT_CUNIT_INPUT'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"基本单位<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INPUT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-BASE_UOM<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LANGUAGE&nbsp;=&nbsp;SY-LANGU<br />
&nbsp;&nbsp;&nbsp;&nbsp;IMPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OUTPUT&nbsp;&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARART-BASE_UOM_ISO.<br />
<br />
&nbsp;&nbsp;LS_E1BPE1MARART-CONTAINER&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-CONTAINER.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"度量类型<br />
&nbsp;&nbsp;LS_E1BPE1MARART-STOR_CONDS&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-STOR_CONDS.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"小类<br />
&nbsp;&nbsp;LS_E1BPE1MARART-TEMP_CONDS&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-TEMP_CONDS.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"条码类别<br />
&nbsp;&nbsp;LS_E1BPE1MARART-TRANS_GRP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-TRANS_GRP.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"运输组<br />
&nbsp;&nbsp;LS_E1BPE1MARART-BATCH_MGMT&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-BATCH_MGMT.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"是否启用批次管理<br />
&nbsp;&nbsp;LS_E1BPE1MARART-EXTMATLGRP&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-EXTMATLGRP.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"商品大类<br />
&nbsp;&nbsp;LS_E1BPE1MARART-TAX_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-TAX_CLASS.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"税收分类<br />
&nbsp;&nbsp;"新加字段<br />
&nbsp;&nbsp;LS_E1BPE1MARART-PRICE_BAND&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-EX_BCJHL.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"标称金含量<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MARART-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-EX_WMAAB.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"新品标识<br />
<br />
<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MARART'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARART.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-BASE_UOM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-BASE_UOM_ISO&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-CONTAINER&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-STOR_CONDS&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-TEMP_CONDS&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-TRANS_GRP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-BATCH_MGMT&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-EXTMATLGRP&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-TAX_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;"新加字段<br />
&nbsp;&nbsp;LS_E1BPE1MARARTX-PRICE_BAND&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MARARTX'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARARTX.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*------------------------------------------------<br />
*&nbsp;基本数据的扩展&nbsp;MAW1<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM FULL_E1BPE1MAW1RT.<br />
<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MAW1RT.<br />
<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-PUR_GROUP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-PUR_GROUP.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"采购组<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-LOADINGGRP&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-LOADINGGRP.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"装载组<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-LI_PROC_ST&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-LI_PROC_ST.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"存储或其它分类种类的列表过程<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-LI_PROC_DC&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-LI_PROC_DC.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"分销中心分类种类的列表程序<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-LIST_ST_FR&nbsp;&nbsp;&nbsp;=&nbsp;SY-DATUM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"列出在商店中的起始日期<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-LIST_ST_TO&nbsp;&nbsp;&nbsp;=&nbsp;'99991231'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"在商店中列出的终止日期<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-LIST_DC_FR&nbsp;&nbsp;&nbsp;=&nbsp;SY-DATUM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"列出在分销中心中的起始日期<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-LIST_DC_TO&nbsp;&nbsp;&nbsp;=&nbsp;'99991231'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"在中心仓库/分销中心中被列出的终止日期<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-SELL_ST_FR&nbsp;&nbsp;&nbsp;=&nbsp;SY-DATUM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"在商店中出售的起始日期<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-SELL_ST_TO&nbsp;&nbsp;&nbsp;=&nbsp;'99991231'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"在商店中被出售的终止日期<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-SELL_DC_FR&nbsp;&nbsp;&nbsp;=&nbsp;SY-DATUM.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"在分销中心中出售的起始日期<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-SELL_DC_TO&nbsp;&nbsp;&nbsp;=&nbsp;'99991231'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"在分销中心被出售的终止日期<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-VAL_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-VAL_CLASS.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估类<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-ASSORTLIST&nbsp;&nbsp;&nbsp;=&nbsp;'X'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"列表功能（分类）已激活<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RT-SERV_AGRT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-SERVV.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"是否是EDB需要<br />
   </div>
   <div class="codeComment">
*&nbsp;20160730&nbsp;增加新品标识<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LS_E1BPE1MAW1RT-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-EX_WMAAB.&nbsp;&nbsp;&nbsp;"新品/下架标识<br />
<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MAW1RT'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MAW1RT.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MAW1RTX.<br />
<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-PUR_GROUP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-LOADINGGRP&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-LI_PROC_ST&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-LI_PROC_DC&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-LIST_ST_FR&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-LIST_ST_TO&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-LIST_DC_FR&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-LIST_DC_TO&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-SELL_ST_FR&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-SELL_ST_TO&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-SELL_DC_FR&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-SELL_DC_TO&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-VAL_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-ASSORTLIST&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-SERV_AGRT&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="codeComment">
*&nbsp;20160730&nbsp;增加新品标识<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LS_E1BPE1MAW1RTX-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'."新品/下架标识<br />
<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MAW1RTX'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MAW1RTX.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*------------------------------------------------<br />
*&nbsp;商品描述&nbsp;MAKT<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM FULL_E1BPE1MAKTRT.<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MAKTRT.<br />
<br />
&nbsp;&nbsp;LS_E1BPE1MAKTRT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MAKTRT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MAKTRT-LANGU&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;SY-LANGU.<br />
&nbsp;&nbsp;LS_E1BPE1MAKTRT-MATL_DESC&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-MATL_DESC.<br />
<br />
<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MAKTRT'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MAKTRT.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*------------------------------------------------<br />
*&nbsp;地点层的商品数据&nbsp;MARC<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM FULL_E1BPE1MARCRT.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;参考物流中心与参考门店<br />
   </div>
   <div class="code">
&nbsp;&nbsp;CLEAR:&nbsp;WA_TWPA.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;WA_TWPA&nbsp;FROM&nbsp;TWPA.<br />
<br />
&nbsp;&nbsp;CLEAR:&nbsp;IT_T001W[].<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;IT_T001W&nbsp;FROM&nbsp;T001W&nbsp;WHERE&nbsp;WERKS&nbsp;&gt;=&nbsp;'1000'.<br />
<br />
&nbsp;&nbsp;DELETE&nbsp;IT_T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGVZ.<br />
&nbsp;&nbsp;DELETE&nbsp;IT_T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGFI.<br />
<br />
<br />
&nbsp;&nbsp;CLEAR:LS_E1BPE1MARCRT.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-PLANT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_TWPA-VLGVZ.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"物流中心<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-PUR_GROUP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-PUR_GROUP.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"采购组<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-MRP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-MRP_TYPE.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"需求计划类型<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-AVAILCHECK&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-AVAILCHECK.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"可用性检查<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MARCRT-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-EX_WMAAB.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"新品/下架标识<br />
   </div>
   <div class="code">
&nbsp;&nbsp;CLEAR:&nbsp;LS_BUKRS,&nbsp;LS_PROFIT_CTR.<br />
<br />
&nbsp;&nbsp;CLEAR:&nbsp;WA_T001W.<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;WA_T001W&nbsp;FROM&nbsp;&nbsp;T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGVZ.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;BUKRS&nbsp;INTO&nbsp;LS_BUKRS&nbsp;FROM&nbsp;T001K&nbsp;WHERE&nbsp;BWKEY&nbsp;EQ&nbsp;WA_T001W-BWKEY.<br />
<br />
&nbsp;&nbsp;CONCATENATE&nbsp;'P'&nbsp;LS_BUKRS&nbsp;'001'&nbsp;INTO&nbsp;LS_PROFIT_CTR.<br />
<br />
&nbsp;&nbsp;IF&nbsp;LS_BUKRS&nbsp;=&nbsp;'1000'&nbsp;OR&nbsp;LS_BUKRS&nbsp;=&nbsp;'0001'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:&nbsp;&nbsp;LS_PROFIT_CTR.<br />
&nbsp;&nbsp;ENDIF.<br />
<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-PROFIT_CTR&nbsp;&nbsp;&nbsp;=&nbsp;LS_PROFIT_CTR.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"利润中心<br />
<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MARCRT'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARCRT.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;CLEAR:LS_E1BPE1MARCRT.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-PLANT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_TWPA-VLGFI.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"门店<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-PUR_GROUP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-PUR_GROUP.&nbsp;&nbsp;"采购组<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-MRP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-MRP_TYPE.&nbsp;&nbsp;&nbsp;"需求计划类型<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-AVAILCHECK&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-AVAILCHECK.&nbsp;"可用性检查<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MARCRT-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-EX_WMAAB.&nbsp;&nbsp;&nbsp;"新品/下架标识<br />
   </div>
   <div class="code">
&nbsp;&nbsp;CLEAR:&nbsp;WA_T001W.<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;WA_T001W&nbsp;FROM&nbsp;&nbsp;T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGFI.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;BUKRS&nbsp;INTO&nbsp;LS_BUKRS&nbsp;FROM&nbsp;T001K&nbsp;WHERE&nbsp;BWKEY&nbsp;EQ&nbsp;WA_T001W-BWKEY.<br />
<br />
&nbsp;&nbsp;CONCATENATE&nbsp;'P'&nbsp;LS_BUKRS&nbsp;'001'&nbsp;INTO&nbsp;LS_PROFIT_CTR.<br />
<br />
&nbsp;&nbsp;IF&nbsp;LS_BUKRS&nbsp;=&nbsp;'1000'&nbsp;OR&nbsp;LS_BUKRS&nbsp;=&nbsp;'0001'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:&nbsp;&nbsp;LS_PROFIT_CTR.<br />
&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRT-PROFIT_CTR&nbsp;&nbsp;&nbsp;=&nbsp;LS_PROFIT_CTR.&nbsp;&nbsp;&nbsp;&nbsp;"利润中心<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MARCRT'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARCRT.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;IT_T001W&nbsp;INTO&nbsp;WA_T001W.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:LS_E1BPE1MARCRT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRT-PLANT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_T001W-WERKS.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"门店<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRT-PUR_GROUP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-PUR_GROUP.&nbsp;&nbsp;&nbsp;"采购组<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRT-MRP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-MRP_TYPE.&nbsp;&nbsp;&nbsp;&nbsp;"需求计划类型<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRT-AVAILCHECK&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-AVAILCHECK.&nbsp;&nbsp;"可用性检查<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRT-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-EX_WMAAB.&nbsp;&nbsp;&nbsp;"新品/下架标识<br />
   </div>
   <div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;BUKRS&nbsp;INTO&nbsp;LS_BUKRS&nbsp;FROM&nbsp;T001K&nbsp;WHERE&nbsp;BWKEY&nbsp;EQ&nbsp;WA_T001W-BWKEY.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CONCATENATE&nbsp;'P'&nbsp;LS_BUKRS&nbsp;'001'&nbsp;INTO&nbsp;LS_PROFIT_CTR.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;IF&nbsp;LS_BUKRS&nbsp;=&nbsp;'1000'&nbsp;OR&nbsp;LS_BUKRS&nbsp;=&nbsp;'0001'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:&nbsp;&nbsp;LS_PROFIT_CTR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRT-PROFIT_CTR&nbsp;&nbsp;&nbsp;=&nbsp;LS_PROFIT_CTR.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"利润中心<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MARCRT'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARCRT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;-----------------------------------------------------------------------------<br />
<br />
   </div>
   <div class="code">
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MARCRTX.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-PLANT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_TWPA-VLGVZ.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-PUR_GROUP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-MRP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-AVAILCHECK&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-PROFIT_CTR&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MARCRTX-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MARCRTX'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARCRTX.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MARCRTX.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-PLANT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_TWPA-VLGFI.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-PUR_GROUP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-MRP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-AVAILCHECK&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MARCRTX-PROFIT_CTR&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MARCRTX-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MARCRTX'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARCRTX.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;IT_T001W&nbsp;INTO&nbsp;WA_T001W.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MARCRTX.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRTX-PLANT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_T001W-WERKS.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRTX-PUR_GROUP&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRTX-MRP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRTX-AVAILCHECK&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRTX-PROFIT_CTR&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MARCRTX-ABC_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MARCRTX'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MARCRTX.<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*------------------------------------------------<br />
*&nbsp;评估数据&nbsp;MBEW<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM FULL_E1BPE1MBEWRT.<br />
<br />
&nbsp;&nbsp;CLEAR:&nbsp;WA_TWPA.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;WA_TWPA&nbsp;FROM&nbsp;TWPA.<br />
<br />
&nbsp;&nbsp;CLEAR:&nbsp;IT_T001W[].<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;IT_T001W&nbsp;FROM&nbsp;T001W&nbsp;WHERE&nbsp;WERKS&nbsp;&gt;=&nbsp;'1000'.<br />
<br />
&nbsp;&nbsp;DELETE&nbsp;IT_T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGVZ.<br />
&nbsp;&nbsp;DELETE&nbsp;IT_T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGFI.<br />
<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;WA_T001W&nbsp;FROM&nbsp;T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGVZ.<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MBEWRT.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_AREA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_T001W-BWKEY.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估范围<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;''.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估类型<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MBEWRT-MOVING_PR&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'1'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"移动平均价格<br />
*&nbsp;&nbsp;LS_E1BPE1MBEWRT-PRICE_UNIT&nbsp;&nbsp;&nbsp;=&nbsp;'1'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-VAL_CLASS.&nbsp;&nbsp;&nbsp;&nbsp;"评估类<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_CAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-VAL_CAT.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估类别<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MBEWRT'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MBEWRT.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;WA_T001W&nbsp;FROM&nbsp;T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGFI.<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MBEWRT.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_AREA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_T001W-BWKEY.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估范围<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;''.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估类型<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MBEWRT-MOVING_PR&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'1'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"移动平均价格<br />
*&nbsp;&nbsp;LS_E1BPE1MBEWRT-PRICE_UNIT&nbsp;&nbsp;&nbsp;=&nbsp;'1'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-VAL_CLASS.&nbsp;&nbsp;&nbsp;&nbsp;"评估类<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_CAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-VAL_CAT.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估类别<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MBEWRT'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MBEWRT.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;IT_T001W&nbsp;INTO&nbsp;WA_T001W.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MBEWRT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_AREA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_T001W-BWKEY.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估范围<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;''.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估类型<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRT-MOVING_PR&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'1'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"移动平均价格<br />
*&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRT-PRICE_UNIT&nbsp;&nbsp;&nbsp;=&nbsp;'1'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-VAL_CLASS.&nbsp;&nbsp;&nbsp;&nbsp;"评估类<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRT-VAL_CAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-VAL_CAT.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"评估类别<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MBEWRT'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MBEWRT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
   </div>
   <div class="codeComment">
*&nbsp;--------------------------------------------------------------------<br />
<br />
   </div>
   <div class="code">
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;WA_T001W&nbsp;FROM&nbsp;T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGVZ.<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MBEWRTX.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_AREA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_T001W-BWKEY.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;''.<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MBEWRTX-MOVING_PR&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
*&nbsp;&nbsp;LS_E1BPE1MBEWRTX-PRICE_UNIT&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_CAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MBEWRTX'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MBEWRTX.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;SINGLE&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;WA_T001W&nbsp;FROM&nbsp;T001W&nbsp;WHERE&nbsp;WERKS&nbsp;=&nbsp;WA_TWPA-VLGFI.<br />
&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MBEWRTX.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_AREA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_T001W-BWKEY.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;''.<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;LS_E1BPE1MBEWRTX-MOVING_PR&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
*&nbsp;&nbsp;LS_E1BPE1MBEWRTX-PRICE_UNIT&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_CAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MBEWRTX'.<br />
&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MBEWRTX.<br />
&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;IT_T001W&nbsp;INTO&nbsp;WA_T001W.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MBEWRTX.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_AREA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_T001W-BWKEY.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;''.<br />
   </div>
   <div class="codeComment">
*&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRTX-MOVING_PR&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
*&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRTX-PRICE_UNIT&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
   </div>
   <div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_CLASS&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MBEWRTX-VAL_CAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MBEWRTX'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MBEWRTX.<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*------------------------------------------------<br />
*&nbsp;销售数据&nbsp;MVKE<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM FULL_E1BPE1MVKERT.<br />
<br />
&nbsp;&nbsp;CLEAR:&nbsp;IT_TVTA[].<br />
<br />
&nbsp;&nbsp;SELECT&nbsp;*&nbsp;INTO&nbsp;CORRESPONDING&nbsp;FIELDS&nbsp;OF&nbsp;TABLE&nbsp;IT_TVTA&nbsp;FROM&nbsp;TVTA&nbsp;WHERE&nbsp;VKORG&nbsp;&gt;=&nbsp;1000.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;IT_TVTA&nbsp;INTO&nbsp;WA_TVTA.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MVKERT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-SALES_ORG&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_TVTA-VKORG.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"销售组织<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-DISTR_CHAN&nbsp;&nbsp;&nbsp;=&nbsp;WA_TVTA-VTWEG.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"分销渠道<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-MAT_PR_GRP&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-MAT_PR_GRP.&nbsp;&nbsp;"商品定价组<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-ACCT_ASSGT&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-ACCT_ASSGT.&nbsp;&nbsp;"该商品的科目设置组<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-LI_PROC_ST&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-LI_PROC_ST.&nbsp;&nbsp;"存储或其它分类种类的列表过程<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-LI_PROC_DC&nbsp;&nbsp;&nbsp;=&nbsp;WA_RAW-LI_PROC_DC.&nbsp;&nbsp;"分销中心分类种类的列表程序<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERT-ASSORTLIST&nbsp;&nbsp;&nbsp;=&nbsp;'X'.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"列表功能（分类）已激活<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MVKERT'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MVKERT.<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
&nbsp;&nbsp;LOOP&nbsp;AT&nbsp;IT_TVTA&nbsp;INTO&nbsp;WA_TVTA.<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;CLEAR:&nbsp;LS_E1BPE1MVKERTX.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-FUNCTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_FUNCTION.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-MATERIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;PUBLIC_MATNR.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-SALES_ORG&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;WA_TVTA-VKORG.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-DISTR_CHAN&nbsp;&nbsp;&nbsp;=&nbsp;WA_TVTA-VTWEG.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-MAT_PR_GRP&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-ACCT_ASSGT&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-LI_PROC_ST&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-LI_PROC_DC&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LS_E1BPE1MVKERTX-ASSORTLIST&nbsp;&nbsp;&nbsp;=&nbsp;'X'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SEGNAM&nbsp;=&nbsp;'E1BPE1MVKERTX'.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LT_EDIDD-SDATA&nbsp;&nbsp;=&nbsp;LS_E1BPE1MVKERTX.<br />
&nbsp;&nbsp;&nbsp;&nbsp;APPEND&nbsp;LT_EDIDD.<br />
<br />
&nbsp;&nbsp;ENDLOOP.<br />
<br />
<br />
<br />
ENDFORM.<br />
<br />
   </div>
   <div class="codeComment">
*------------------------------------------------<br />
*&nbsp;内向处理IDOC<br />
*------------------------------------------------<br />
   </div>
   <div class="code">
FORM INBOUND_PROCESS_IDOC.<br />
<br />
&nbsp;&nbsp;CALL&nbsp;FUNCTION&nbsp;'IDOC_WRITE_AND_START_INBOUND'<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I_EDIDC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LS_EDIDC<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DO_COMMIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'X'<br />
&nbsp;&nbsp;&nbsp;&nbsp;IMPORTING<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DOCNUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;RT_DOCNUM<br />
&nbsp;&nbsp;&nbsp;&nbsp;TABLES<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I_EDIDD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;LT_EDIDD<br />
&nbsp;&nbsp;&nbsp;&nbsp;EXCEPTIONS<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDOC_NOT_SAVED&nbsp;=&nbsp;1<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OTHERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;2.<br />
ENDFORM.<br />
            </div>
          </td>
        </tr>
      </table>
      </td>
      </tr>
   <tr>
<td class="footer">www.bjcaibai.com.cn201609</td>
   </tr>
</table>
</body>
</html>
